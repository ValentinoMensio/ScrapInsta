ENV=local

# Base de datos MySQL (debe coincidir con docker/docker-compose.yml)
DB_NAME=db_name
DB_USER=db_user
DB_PASS=app_password
DB_PORT=3307
DB_HOST=127.0.0.1
MYSQL_ROOT_PASSWORD=root_password

# API Authentication
API_SHARED_SECRET=dev_secret_key_change_in_production

# Security
# Requerir HTTPS en producción (true/false)
REQUIRE_HTTPS=false

# CORS Origins (separados por coma, vacío = CORS deshabilitado)
# Ejemplo para desarrollo: CORS_ORIGINS=http://localhost:3000,http://localhost:8080
# En producción: CORS_ORIGINS=https://app.tudominio.com,https://admin.tudominio.com
CORS_ORIGINS=

# OpenAI (opcional)
OPENAI_API_KEY=

# Backend de colas
QUEUES_BACKEND=local

# Configuración de Workers
WORKER_MAX_INFLIGHT_PER_ACCOUNT=5
WORKER_DEFAULT_BATCH_SIZE=25

# Cuentas Instagram
SECRET_ACCOUNTS_PATH=docker/secrets/instagram_accounts.json

# Paths
PROFILES_PATH=src/data/profiles
DATA_DIR=src/data

# Lease Cleanup (Leasing con TTL)
# Intervalo en segundos entre ejecuciones del proceso de limpieza de leases expirados
LEASE_CLEANUP_INTERVAL=60
# Número máximo de tareas a reencolar por ejecución
LEASE_CLEANUP_MAX_RECLAIMED=100

# Cleanup de Tareas Antiguas (Mantenimiento de BD)
# Intervalo en segundos entre ejecuciones del cleanup (default: 86400 = 24 horas)
CLEANUP_INTERVAL=86400
# Días de antigüedad para eliminar tareas 'queued' sin procesar (default: 1)
CLEANUP_STALE_DAYS=1
# Días de antigüedad para eliminar tareas 'ok'/'error' finalizadas (default: 90)
CLEANUP_FINISHED_DAYS=90
# Tamaño del lote para procesamiento de cleanup (default: 1000)
CLEANUP_BATCH_SIZE=1000

# Redis (Rate Limiting Distribuido y Caché)
# URL completa de Redis (opcional, si se especifica se usa en lugar de host/port)
# Ejemplo: redis://:password@host:port/db o rediss:// para TLS
# REDIS_URL=redis://localhost:6379/0

# Configuración manual de Redis (se usa si REDIS_URL no está definida)
REDIS_HOST=127.0.0.1
REDIS_PORT=6379
REDIS_DB=0
# REDIS_PASSWORD=

# Configuración avanzada de Redis
REDIS_SOCKET_TIMEOUT=5.0
REDIS_SOCKET_CONNECT_TIMEOUT=5.0
REDIS_MAX_CONNECTIONS=50
REDIS_DECODE_RESPONSES=true

# TTLs para caché (en segundos)
REDIS_CACHE_PROFILE_TTL=3600  # 1 hora para perfiles analizados
REDIS_CACHE_ANALYSIS_TTL=3600  # 1 hora para análisis completos

